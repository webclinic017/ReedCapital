import matplotlib.pyplot as plt
import ccxt
binance = ccxt.binance()

sizes = []
labels = []
colors = ['y', 'g', 'c', 'r', 'm', 'k', 'w']

print('How many different types of cryptocurrencies do you own? (Respond numerically)')

number_CC_I_Own = input()


for i in range(int(number_CC_I_Own)): #collects names and prices

    print('Please insert the ticker symbol of one of your ' + str(number_CC_I_Own) + ' cryptocurrencies')
    CC = input().upper()

    if len(CC) == 4 or len(CC) == 3: #If it's a ticker symbol
        print('How much ' + str(CC) + ' do you have?')
        CC_amount = float(input())


        def My_CC():  # Renders price of CC from Binance
            ticker = CC
            bf = (binance.fetch_ticker(ticker + '/USDT'))
            return (bf['last']) * CC_amount #returns value of that CC

        That_CC_Total = float(My_CC()) #Returns value of that CC
        sizes.append(That_CC_Total) #Returns value of all CCs (so far)
        That_CC_Total = '$' + str('{:0,.2f}'.format(float(str(sum(sizes)))))  #formats asset balance (so far)

        print ('Your current portfolio balance is ' + str(That_CC_Total))
        labels.append(CC) #appends name of CC

print('Here is a beautiful graph displaying your total net worth')
plt.pie(sizes,  #displays pie chart
        labels=labels,
        colors=colors,
        autopct='%1.1f%%',
        shadow=True,
        startangle=90)

plt.show()
